<!-- HTML header for doxygen 1.14.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/xhtml;charset=UTF-8" http-equiv="Content-Type"/>
    <meta content="IE=11" http-equiv="X-UA-Compatible"/>
    <meta content="Doxygen 1.14.0" name="generator"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <title>Cockatrice: A Primer on Cards</title>
    <link href="../../cockatrice.png" rel="icon" type="image/x-icon"/>
    <link href="../../tabs.css" rel="stylesheet" type="text/css"/>
    <script src="../../jquery.js" type="text/javascript"></script>
    <script src="../../dynsections.js" type="text/javascript"></script>
    <script src="../../clipboard.js" type="text/javascript"></script>
    <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
    <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
    <link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
    <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../hide_nav_sync.css" rel="stylesheet" type="text/css"/>
<link href="../../cockatrice_docs_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
            <table cellpadding="0" cellspacing="0">
                <tbody>
                <tr id="projectrow">
                    <td id="projectlogo"><img  alt="Logo" src="../../cockatrice.png"/></td>
                    <td id="projectalign">
                        <div id="projectname">Cockatrice<span id="projectnumber">&#160;master</span>
                        </div>
                        <div id="projectbrief">A virtual tabletop for multiplayer card games</div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('da/d69/primer_cards.html','../../',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">A Primer on Cards </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1 class="doxsection"><a class="anchor" id="the-cockatrice-card-library"></a>
The Cockatrice Card Library</h1>
<p>All non-gui code related to cards used by Cockatrice is contained within libcockatrice_card.</p>
<h1 class="doxsection"><a class="anchor" id="a-basic-card-object-cardinfo"></a>
A Basic Card Object: CardInfo</h1>
<p>A <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> object is the translational unit used by the <a class="el" href="../../d5/d45/classCardDatabase.html" title="Core in-memory container for card and set data.">CardDatabase</a> to represent an on-disk XML entry as an in-memory Qt object.</p>
<p>For a complete overview of the fields that define a <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> object, see the class documentation and more specifically <a class="el" href="../../dd/dd2/classCardInfo.html#PrivateCardProperties">PrivateCardProperties</a>.</p>
<p>These fields correspond to either entries or a combination of entries in the XML card entry to which the CardDatabaseParser applies special logic to map, populate or determine their respective values in the <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> object.</p>
<p>Any property to which special parsing is not applied is stored in <a class="el" href="../../dd/dd2/classCardInfo.html#ab216bc8b76b250f2f9d66b430f524c51" title="Key-value store of dynamic card properties.">CardInfo::properties</a> and may be retrieved or set with <a class="el" href="../../dd/dd2/classCardInfo.html#abbd0d10e28cfb3ea1ec54d6c764b97a4">CardInfo::getProperty()</a> or <a class="el" href="../../dd/dd2/classCardInfo.html#aa810cc14f4e6cd9c3b88bcf5201f5bbd">CardInfo::setProperty()</a> as well as <a class="el" href="../../dd/dd2/classCardInfo.html#af2a0e300829b6b147cb4e717c58f68e4">CardInfo::getProperties()</a> to get a collection of the property keys a <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> contains.</p>
<p>For more information on how special fields contained within <a class="el" href="../../dd/dd2/classCardInfo.html#PrivateCardProperties">PrivateCardProperties</a> are parsed, see <a class="el" href="../../dc/d53/classCockatriceXml4Parser.html#a1008dd51d757d64654b0f81d80dd3000" title="Load all &lt;card&gt; elements from the XML stream.">CockatriceXml4Parser::loadCardsFromXml()</a>.</p>
<p>Apart from access to the basic and extended properties of a card, <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> also provides two important mechanisms to us. The first is the <a class="el" href="../../dd/dd2/classCardInfo.html#ae3038736850ab030b20f81bf1426a19b" title="Emitted when a pixmap for this card has been updated or finished loading.">CardInfo::pixmapUpdated()</a> signal, which allows the <a class="el" href="../../d2/d5d/classCardPictureLoader.html" title="Singleton class to manage card image loading and caching. Provides functionality to asynchronously lo...">CardPictureLoader</a> to signal when it is done manipulating (in most cases: loading) the QPixmap of an <a class="el" href="../../df/d4e/classExactCard.html#a1ed6121dc01e43a0d7004ef568e07a42" title="Generates a stable cache key for pixmap caching.">ExactCard::getPixmapCacheKey()</a>, where the <a class="el" href="../../df/d4e/classExactCard.html#af339c5cc5d894e51d6d078f10355f1ec">ExactCard::card</a> corresponds to this <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> object.</p>
<p>Put simply: Whenever the <a class="el" href="../../d2/d5d/classCardPictureLoader.html" title="Singleton class to manage card image loading and caching. Provides functionality to asynchronously lo...">CardPictureLoader</a> loads a new <a class="el" href="../../d6/d90/classPrintingInfo.html" title="Represents metadata for a specific variation of a card within a set.">PrintingInfo</a> which is not already in the cache, it emits this signal so that any widget using a <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> object can update the display of it to possibly use this new QPixmap.</p>
<dl class="section attention"><dt>Attention</dt><dd>It should be noted that it is not possible to use <a class="el" href="../../d2/d5d/classCardPictureLoader.html#a12e978377a488933d2aa641d47e08eef" title="Retrieve a card pixmap, either from cache or enqueued for loading.">CardPictureLoader::getPixmap()</a> with anything but an <a class="el" href="../../df/d4e/classExactCard.html" title="Represents a specific card instance, defined by its CardInfo and a particular printing.">ExactCard</a>, which is a <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> object associated with a <a class="el" href="../../d6/d90/classPrintingInfo.html" title="Represents metadata for a specific variation of a card within a set.">PrintingInfo</a>, i.e. a definitive printing of a specific card</dd></dl>
<p>The other signal, <a class="el" href="../../dd/dd2/classCardInfo.html#ac7314130c21a55725413c89a857e4c95" title="Emitted when card properties or state have changed.">CardInfo::cardInfoChanged()</a> conceptually works much the same way, except it is concerned with the properties of the <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> object.</p>
<h1 class="doxsection"><a class="anchor" id="getting-specific-printinginfo-and-exactcard"></a>
Getting specific: PrintingInfo and ExactCard</h1>
<h2 class="doxsection"><a class="anchor" id="printing-info"></a>
Printing Info</h2>
<p>A <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> object describes the basic properties of a card in much the same way that we say "Two cards with the same
name are and should be equal if their properties are equal". However, there are certain (mostly visual) properties which might differ between printings of a card but still conceptually classify two instances of a card as "the same card". The most obvious example to this are cards which fundamentally share all properties except the artwork depicted on the card.</p>
<p>We refer to such differences as Printings and track them in the <a class="el" href="../../d6/d90/classPrintingInfo.html" title="Represents metadata for a specific variation of a card within a set.">PrintingInfo</a> class. A <a class="el" href="../../d6/d90/classPrintingInfo.html" title="Represents metadata for a specific variation of a card within a set.">PrintingInfo</a> is always related to the <a class="el" href="../../d6/d3d/classCardSet.html" title="A collection of cards grouped under a common identifier.">CardSet</a> that introduced the variation. Multiple variations can exist in the same <a class="el" href="../../d6/d3d/classCardSet.html" title="A collection of cards grouped under a common identifier.">CardSet</a> and the respective <a class="el" href="../../d6/d90/classPrintingInfo.html#a8620106e5ac0dd63baa9ccc435b970c4" title="Retrieves the value of a specific property.">PrintingInfo::getProperty()</a> can be used to determine the differences, such as the collector numbers on the printings, if there are any.</p>
<h2 class="doxsection"><a class="anchor" id="exact-card"></a>
Exact Card</h2>
<p>A <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> object is used to hold the functional properties of a card and a <a class="el" href="../../d6/d90/classPrintingInfo.html" title="Represents metadata for a specific variation of a card within a set.">PrintingInfo</a> object can be used to hold the visual properties of a card. To represent a 'physical' card, as in, a concrete immutable instance of a card, we can use <a class="el" href="../../df/d4e/classExactCard.html" title="Represents a specific card instance, defined by its CardInfo and a particular printing.">ExactCard</a>, which combines a <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> and a <a class="el" href="../../d6/d90/classPrintingInfo.html" title="Represents metadata for a specific variation of a card within a set.">PrintingInfo</a> object into one class. The class is used as a container around <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> objects whenever the user (and thus the program) expects to be presented with a defined card printing.</p>
<h1 class="doxsection"><a class="anchor" id="using-cards"></a>
Using Cards</h1>
<p>For more information on the XML database schema which the CardDatabaseParser parses to generate <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> objects, see <a class="el" href="../../d7/d47/card_database_schema_and_parsing.html">Card Database Schema and Parsing</a>.</p>
<p>For more information on querying the <a class="el" href="../../d5/d45/classCardDatabase.html" title="Core in-memory container for card and set data.">CardDatabase</a> for <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> objects, see <a class="el" href="../../da/d66/querying_the_card_database.html">Querying the Card Database</a>.</p>
<p>For more information on displaying <a class="el" href="../../dd/dd2/classCardInfo.html" title="Represents a card and its associated metadata, properties, and relationships.">CardInfo</a> and <a class="el" href="../../df/d4e/classExactCard.html" title="Represents a specific card instance, defined by its CardInfo and a particular printing.">ExactCard</a> objects using Qt Widgets, see <a class="el" href="../../dc/d8a/displaying_cards.html">Displaying Cards</a>.</p>
<p>For more information on how card pictures are loaded from disk or the network, see <a class="el" href="../../d9/d1c/loading_card_pictures.html">Loading Card Pictures</a> as well as the <a class="el" href="../../d2/d5d/classCardPictureLoader.html" title="Singleton class to manage card image loading and caching. Provides functionality to asynchronously lo...">CardPictureLoader</a> documentation. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.14.0-->
<!-- start footer part -->
<script src="../../graph_toggle.js"></script>
<div class="navpath" id="nav-path"><!-- id is needed for treeview function! -->
    <ul>
        <li class="navelem"><a href="../../index.html">Documentation</a></li><li class="navelem"><a href="../../d0/de4/developer_reference.html">Developer Reference</a></li>
        <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img alt="doxygen"
                                                                                          class="footer"
                                                                                          height="31" src="../../doxygen.svg"
                                                                                          width="104"/></a>
            1.14.0
        </li>
    </ul>
</div>
</body>
</html>
